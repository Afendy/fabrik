/*! Fabrik */
var FbCalcList=my.Class({options:{},constructor:function(a,b){b.element=a;var c=this;this.options=$.extend(this.options,b),this.col=$("."+a),this.list=Fabrik.blocks[this.options.listRef],this.options.doListUpdate&&Fabrik.addEvent("fabrik.list.updaterows",function(){c.update()})},update:function(){var a={option:"com_fabrik",format:"raw",task:"plugin.pluginAjax",plugin:"calc",g:"element",listid:this.options.listid,formid:this.options.formid,method:"ajax_listUpdate",element_id:this.options.elid,rows:this.list.getRowIds(),elementname:this.options.elid};new $.getJSON({url:"",data:a}).fail(function(a,b,c){fconsole("Fabrik:list-calc:update error:"+b,c)}).success(function(a){var b=Object.prototype.hasOwnProperty;for(var c in a)b.call(a,c)&&"string"==typeof a[c]&&(a[c]=Encoder.htmlDecode(a[c]));$.each(a,function(a,b){var c=this.list.list.find("#"+a+" ."+this.options.element);b!==!1&&c.html(b)})})}});