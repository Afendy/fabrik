/*! Fabrik */
var inline=my.Class({options:{},constructor:function(a,b){var c=this;this.options=$.extend(this.options,b),$(document).on("dblclick",a,function(a,b){var d;b.hide(),b.store("origValue",b.get("text")),b.retrieve("inline")?d=b.retrieve("inline"):(d=new Element("input"),d.on("keydown",function(a){c.checkKey(a,b)}),d.inject(b,"after").focus(),d.hide(),b.store("inline",d)),d.set("value",b.get("text")).toggle().focus(),d.select()})},checkKey:function(a,b){("enter"===a.key||"esc"===a.key||"tab"===a.key)&&(b.retrieve("inline").hide(),b.show()),("enter"===a.key||"tab"===a.key)&&(b.text(a.target.get("value")),Fabrik.trigger("fabrik.inline.save",[b,a]))}});