/*! Fabrik */
var SwapList=my.Class({constructor:function(a,b,c,d,e,f){this.from=$("#"+a);var g=this;this.to=$("#"+b),$("#"+c).on("click",function(a){a.stopPropagation(),$("#jform__createGroup0").prop("checked",!0),g.addSelectedToList(g.from,g.to),g.delSelectedFromList(g.from)}),$("#"+d).on("click",function(a){a.stopPropagation(),g.addSelectedToList(g.to,g.from),g.delSelectedFromList(g.to)}),$("#"+e).on("click",function(a){a.stopPropagation(),g.moveInList(-1)}),$("#"+f).on("click",function(a){a.stopPropagation(),g.moveInList(1)}),$("#adminForm").onsubmit=function(){return jQuery.each(g.to.getElements("option"),function(a,b){b.selected=!0}),!0}},addSelectedToList:function(a,b){var c,d=a.length,e=b.length,f="x";for(c=e-1;c>-1;c--)f+=","+b.options[c].value+",";for(c=0;d>c;c++)if(a.options[c].selected&&-1===f.indexOf(","+a.options[c].value+",")){var g=new Option(a.options[c].text,a.options[c].value);b.options[b.length]=g}},delSelectedFromList:function(a){for(var b=a.length,c=b-1;c>-1;c--)a.options[c].selected&&(a.options[c]=null)},moveInList:function(a){var b=this.to,c=this.to.selectedIndex,d=b.options.length-1;if(-1===c)return!1;if(1===a&&c===d)return!1;if(-1===a&&0===c)return!1;var e,f=[],g=[];for(e=d;e>=0;e--)f[e]=b.options[e].text,g[e]=b.options[e].value;for(e=d;e>=0;e--)c===e?(b.options[e+a]=new Option(f[e],g[e],0,1),b.options[e]=new Option(f[e+a],g[e+a]),e--):b.options[e]=new Option(f[e],g[e]);return b.focus(),!0}});