/*! Fabrik */
var SwapList=my.Class({constructor:function(a,b,c,d,e,f){this.from=$("#"+a);var g=this;this.to=$("#"+b),$("#"+c).on("click",function(a){a.stopPropagation(),$("#jform__createGroup0").prop("checked",!0);var b=g.from.find("option:selected");b.clone().appendTo(g.to),b.remove()}),$("#"+d).on("click",function(a){a.stopPropagation();var b=g.to.find("option:selected");b.clone().appendTo(g.from),b.remove()}),$("#"+e).on("click",function(a){a.stopPropagation(),g.moveInList(-1)}),$("#"+f).on("click",function(a){a.stopPropagation(),g.moveInList(1)}),$("#adminForm").onsubmit=function(){return jQuery.each(g.to.getElements("option"),function(a,b){b.selected=!0}),!0}},moveInList:function(a){var b=this.to,c=b.find("option"),d=this.to.prop("selectedIndex"),e=c.length-1;if(-1===d)return!1;if(1===a&&d===e)return!1;if(-1===a&&0===d)return!1;var f,g=[],h=[];for(f=e;f>=0;f--)g[f]=c[f].text,h[f]=c[f].value;for(f=e;f>=0;f--)d===f?(c[f+a]=new Option(g[f],h[f]),c[f]=new Option(g[f+a],h[f+a]),f--):c[f]=new Option(g[f],h[f]);return b.empty(),b.append(c),b.focus(),b.prop("selectedIndex",d+a),!0},option:function(a,b){return $("<option>").attr({value:b}).text(a)}});